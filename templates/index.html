{% extends "base.html" %}

{% block title %}Home - Nail Art Recommendation{% endblock %}

{% block content %}
<!-- Filter Sidebar -->
<div class="filter-sidebar" id="filterSidebar">
    <div class="filter-header">
        <h2><i class="fas fa-sliders-h"></i> Search & Filters</h2>
        <button class="close-filters" id="closeFilters">
            <i class="fas fa-times"></i>
        </button>
    </div>
    
    <div class="search-in-filter">
        <input type="text" placeholder="Search designs...">
        <button type="submit">
            <i class="fas fa-search"></i>
        </button>
    </div>

    <div class="filters-content">
        <div class="filter-group">
            <h3>Nail Shape</h3>
            <div class="filter-options">
                <label class="filter-option">
                    <input type="checkbox" name="shape" value="almond">
                    <span>Almond</span>
                </label>
                <label class="filter-option">
                    <input type="checkbox" name="shape" value="square">
                    <span>Square</span>
                </label>
                <label class="filter-option">
                    <input type="checkbox" name="shape" value="coffin">
                    <span>Coffin</span>
                </label>
                <label class="filter-option">
                    <input type="checkbox" name="shape" value="stiletto">
                    <span>Stiletto</span>
                </label>
            </div>
        </div>

        <div class="filter-group">
            <h3>Style</h3>
            <div class="filter-options">
                <label class="filter-option">
                    <input type="checkbox" name="style" value="minimalist">
                    <span>Minimalist</span>
                </label>
                <label class="filter-option">
                    <input type="checkbox" name="style" value="floral">
                    <span>Floral</span>
                </label>
                <label class="filter-option">
                    <input type="checkbox" name="style" value="geometric">
                    <span>Geometric</span>
                </label>
                <label class="filter-option">
                    <input type="checkbox" name="style" value="abstract">
                    <span>Abstract</span>
                </label>
            </div>
        </div>

        <div class="filter-group">
            <h3>Color</h3>
            <div class="filter-options color-options">
                <label class="color-option">
                    <input type="checkbox" name="color" value="pink">
                    <span class="color-dot pink"></span>
                    <span>Pink</span>
                </label>
                <label class="color-option">
                    <input type="checkbox" name="color" value="purple">
                    <span class="color-dot purple"></span>
                    <span>Purple</span>
                </label>
                <label class="color-option">
                    <input type="checkbox" name="color" value="nude">
                    <span class="color-dot nude"></span>
                    <span>Nude</span>
                </label>
                <label class="color-option">
                    <input type="checkbox" name="color" value="red">
                    <span class="color-dot red"></span>
                    <span>Red</span>
                </label>
            </div>
        </div>

        <div class="filter-group">
            <h3>Occasion</h3>
            <div class="filter-options">
                <label class="filter-option">
                    <input type="checkbox" name="occasion" value="wedding">
                    <span>Wedding</span>
                </label>
                <label class="filter-option">
                    <input type="checkbox" name="occasion" value="party">
                    <span>Party</span>
                </label>
                <label class="filter-option">
                    <input type="checkbox" name="occasion" value="casual">
                    <span>Casual</span>
                </label>
                <label class="filter-option">
                    <input type="checkbox" name="occasion" value="holiday">
                    <span>Holiday</span>
                </label>
            </div>
        </div>
    </div>
</div>

<!-- Main Content -->
<div class="main-content">
    <div class="container">
        <!-- Top Bar with Search and Filter Toggle -->
        <div class="top-bar">
            <div class="search-wrapper">
                <button class="filter-toggle" id="openFilters">
                    <i class="fas fa-sliders-h"></i>
                    Filters
                </button>
                <div class="main-search-bar">
                    <input type="text" placeholder="Search nail art designs...">
                    <button type="submit">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
        </div>

        <section class="hero-section">
            <h1>Discover Your Perfect Nail Art Style</h1>
            <p>Explore thousands of designs and find inspiration for your next manicure</p>
        </section>

        <section class="gallery-section">
            <div class="gallery-grid">
                {% for item in nail_arts %}
                <div class="gallery-item">
                    <div class="gallery-image">
                        <img src="{{ item.img }}" alt="{{ item.title }}">
                        <div class="gallery-overlay">
                            <form method="post" action="{% if item.id in collections %}{{ url_for('main.uncollect') }}{% else %}{{ url_for('main.collect') }}{% endif %}">
                                <input type="hidden" name="nail_id" value="{{ item.id }}">
                                <button type="submit" class="save-btn">
                                    {% if item.id in collections %}
                                        <i class="fas fa-bookmark"></i>
                                    {% else %}
                                        <i class="far fa-bookmark"></i>
                                    {% endif %}
                                </button>
                            </form>
                        </div>
                    </div>
                    <div class="gallery-info">
                        <h3>{{ item.title }}</h3>
                        <div class="gallery-tags">
                            {% for tag in item.tags %}
                                <span class="tag">{{ tag }}</span>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="load-more">
                <button class="load-more-btn">Load More</button>
            </div>
        </section>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Filter sidebar toggle
        const filterSidebar = document.getElementById('filterSidebar');
        const openFiltersBtn = document.getElementById('openFilters');
        const closeFiltersBtn = document.getElementById('closeFilters');

        openFiltersBtn.addEventListener('click', function() {
            filterSidebar.classList.add('active');
        });

        closeFiltersBtn.addEventListener('click', function() {
            filterSidebar.classList.remove('active');
        });

        // Like button functionality
        document.querySelectorAll('.like-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const icon = this.querySelector('i');
                icon.classList.toggle('far');
                icon.classList.toggle('fas');
                icon.classList.toggle('liked');
            });
        });

        // Save button functionality
        document.querySelectorAll('.save-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const icon = this.querySelector('i');
                icon.classList.toggle('far');
                icon.classList.toggle('fas');
                icon.classList.toggle('saved');
            });
        });
    });
</script>
{% endblock %} 